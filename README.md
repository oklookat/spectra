# Spectra

(AI-translated)

English | [Русский](./docs/README.ru.md)

![App screenshot](./docs/screenshot.jpg)

This is an Android app, a wrapper for the [Xray-core](https://github.com/XTLS/Xray-core).

Interaction with the core is done via [AndroidLibXrayLite by 2dust](https://github.com/2dust/AndroidLibXrayLite).

The project is unstable, so it may change drastically over time.

Main sources of inspiration: [sing-box-for-android](https://github.com/SagerNet/sing-box-for-android), [v2rayNG](https://github.com/2dust/v2rayNG).

## Features (on paper)

* English, Russian translation

* Android TV support

* Android VPN <-> Xray TUN

* Xray log screen

* Config import

  * Via URL
  * Manually
  * By QR code (within the same local network)
  * From a file
  * Via local link (spectra.local)

* Automatic update of configs added via URL every n minutes.
  If the service is running and the current config is updated, the service restarts automatically.

* Share config (scan QR code)

## Why "On paper"

Currently, 99% of the code is generated by the Gemini, for which I’m very grateful. I slowly test, report bugs, and make minor fixes.
This drastically reduced development time, but the drawbacks of this approach are obvious.

For now, that’s how it is.

## Additional Information

### Supported Links

To import configs via a link, you need to enable **“Supported Links”** for the app in Android settings.

When the app launches, a dialog should prompt you to do this.

The link scheme is:

`https://spectra.local/import?data=base64`

where `base64` is:

`name=Base&autoupdate=true&autoupdateinterval=60&url=https://example.com/config.json`

* **name**: profile name
* **autoupdate**: true | false, enable auto-update?
* **autoupdateinterval**: auto-update interval in minutes
* **url**: link to the Xray JSON config

The entire string must be encoded in base64.

## Building

### geo

The package includes geoip and geosite. To reduce size and (possibly) improve performance, it only contains `geoip:private` and `geosite:category-ru`.

If your client configs use a different set of geo files, replace them with your own in the [assets directory](../app/src/main/assets).

Adding custom resources via the UI will be implemented later.

### AndroidLibXrayLite

Place `libv2ray.aar` (required) and `libv2ray-sources.jar` (optional, for IDE type hints) into the [app/libs directory](../app/libs).

You can download them or compile them yourself from the AndroidLibXrayLite repository (link at the top of the README).

After that, you can build the project in Android Studio as usual.
